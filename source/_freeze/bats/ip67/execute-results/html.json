{
  "hash": "3187d7fd659daea6b0fc1f2c82925948",
  "result": {
    "markdown": "---\ntitle: Peersonic bat-detector in waterproof IP67 enclosure\nauthor: Thierry Onkelinx\ndate: \"2017-07-29\"\ncategories: [bats, tool review]\nimage: media/peersonic-ip67-open.jpg\nknitr:\n  opts_chunk:\n    echo: false\n    message: false\n    dev: \"svg\"\n---\n\n\nI've reviewed the [standard version](http://peersonic.co.uk) the Peersonic RPA2 bat-detector in an [earlier blog post](index.html).\nToday I will take about the RPA2 in a [waterproof IP67 enclosure](https://peersonic.co.uk/pricing) and my experiences on using it as on autonomous bat-detector.\n\n![Test setup of the IP 67](media/peersonic-ip67-setup.jpg){fig-alt=\"Test setup of the IP 67.\"}\n\n## The differences\n\nThe most obvious difference between both versions is their enclosure.\n[IP 67](https://en.wikipedia.org/wiki/IP_Code) stands for dust tight and water tight under immersion up to 1 m depth.\nAs you can see on the figure, the display and all controls are inside the enclosure.\nHence this version is only relevant in automatic mode.\n\nThe enclosure is much larger than the standard version: 180 mm long, 125 mm wide and 90 mm thick (standard version: 145 mm long, 79 mm wide and 37 mm thick).\nThe enclosure holds 3 D cell batteries compared to 3 AA batteries in the standard version.\nI had the set-up running for 5 consecutive nights on a single set of alkaline batteries and the detector was still running.\n\n![Open RPA2 detector in IP67 version.](media/peersonic-ip67-open.jpg){fig-alt=\"Open RPA2 detector in IP67 version.\"}\n\nOne essential part of the electronics must be outside of the enclosure: the microphone.\nA standard 3.5 mm audio jack cable protrudes from the enclosure.\nMine has 3 m cable but you can order them with different lengths of cable.\nNote that about 20 cm of the cable is inside the enclosure.\nThe jack cable is plugged into the external microphone.\nThis is also waterproof.\nThe microphone itself is protected by a membrane.\nSeveral replacement membranes were supplied with the detector.\nSo far I'm still using the original membrane.\nThe microphone has a tripod thread for easy mounting on a tripod.\n\n![External microphone mounted on a tripod.](media/peersonic-ip67-mic.jpg){fig.alt=\"External microphone mounted on a tripod.\"}\n\nThe IP67 enclosure has 2 LED's that blink when batteries are mounted in the detector.\nOne amber LED is situated inside the enclosure.\nA green LED is located on the outside near the exit of the audio cable.\nThe LED makes visible that the batteries still have enough power without having to open the enclosure.\nThe downside is that it make the enclosure more visible and potentially draws unwanted attention.\nTherefore the external LED can be switched off by flipping a switch on the print plate.\n\n![Closed RPA2 detector in IP67 version.](media/peersonic-ip67-closed.jpg){fig.alt=\"Closed RPA2 detector in IP67 version.\"}\n\n## The similarities\n\nThe electronics hardware and software in both versions are identical.\nThe controls are at the same location so switching to the other version is easy.\n[Peersonic](http://peersonic.co.uk) suggested to switch off the audio output.\nAudio output it not needed in automatic mode.\nRemoving the audio output saves (a little bit of) power.\nAnother option is the leave the audio output intake and place a Bluetooth audio transmitter in the enclosure so you can listen to the detector with a pair of Bluetooth headphones.\nThis would however increase the power consumption.\nSo I choose to have the audio output removed.\nNote that it can be replaced if I wanted so.\n\n## Recording in automatic mode\n\n\n::: {.cell}\n\n:::\n\n\nThe user has to specify two settings in automatic mode: 1) the threshold and 2) the maximal length of a recording.\nSounds exceeding the threshold level triggers the start of a recording.\nEach recording will last at least 5 seconds.\nThe recording will continue as long as the sound level exceeds the threshold and the maximal length isn't reached.\nThe maximal length can be set from 5 seconds to 4 minutes in steps of 5 seconds.\nSetting the threshold is a bit trial and error.\nSet it too high and you'll missing a lot of bats.\nSet it too low and you are more likely to record non-relevant sounds.\nI estimate that equivalent threshold of manual recording is about -50 or -60 dB.\nThat is me distinguishing a bat from the background noise and recording it.\nSetting the automatic threshold at -50 or -60 dB would generate much more recordings with only noise as the detector doesn't discriminates between bat sounds and other sounds.\n\n@fig-length gives an indication of the length of the recordings at the forest setting were the pictures were taken.\nThe detector was operational from 20:30 until 23:33.\nThe maximal length of the recordings was set at 20 seconds, the sound level threshold to -40 dB.\nI had only 3 recordings without bats.\nAll of these relate to me checking the status of the detector.\n84% of the recordings were the minimal 5 seconds.\nNone of the recordings was longer than 10 seconds.\n@fig-interval figure shows the distribution of the time between two consecutive recordings.\n\n\n::: {.cell}\n::: {.cell-output-display}\n![Distribution of the number of recordings per 2 minutes](ip67_files/figure-html/fig-length-1.svg){#fig-length fig-alt='Distribution of the number of recordings per 2 minutes' width=672}\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n![Distribution of the time between two consecutive recordings.](ip67_files/figure-html/fig-interval-1.svg){#fig-interval fig-alt='Distribution of the time between two consecutive recordings.' width=672}\n:::\n:::\n\n\n## Sleep mode\n\nThe Peersonic RPA2 has the ability to go once a day into sleep mode.\nThe sleep mode has two benefits.\nFirst, the detectors stops making recordings, so you won't have to deal with daytime recordings (e.g. birds).\nSecond, the power consumption is reduced to the bare minimum.\nHence the batteries will last longer.\n\nThe sleep mode requires the extra time stamp module, which I highly recommend because it is useful to know when a recording was made.\nThe user can enter the time at which the detector goes into sleep mode and the time it has to wake up.\nThe times can be set in 15 min intervals.\nThe manual warns that the detector will wake up within a 15 min window of the specified wake up time.\nSo set the time 15 min earlier than the time you had in mind.\n\nThe sleep mode settings are stored, even when the detector is turned off or the batteries are removed.\nPlacing the detector in the field, mounting the batteries and turning it on should be sufficient.\nHence the person in the field needs only a limited knowledge on the detector.\n\n## Reading the WAV files\n\nThe default way of reading the WAV files is to connect the RPA2 with an USB cable to a computer and copy the files to the hard disk.\nThis can be cumbersome when using the detector in a remote location.\nSimply swapping the SD cards would be much easier.\n\nSwapping the SD cards yields two problems.\nFirst of all, the SD cards are not in a standard FAT16 or FAT32 format, but in a `BATFAT` format.\nThis is due to the limited code space on the processor.\nThe result is that a computer can't read the SD cards.\nA second problem is access to the SD card.\nIn case of the standard enclosure, replacing the SD card would require to dismantle and reassemble the enclosure.\nThe IP67 has somewhat better access: the SD card is visible when you open the enclosure.\nHowever, it still is somewhat hidden underneath the display.\nI can't reach it with my fingers.\n\nThe `BATFAT` format has another limit: it can store a maximum of 3000 wav files.\nTherefore a 32 GB SD card is sufficient when recordings a not longer than 10 sec.\n3000 recordings of 10 sec is 8h20 in total, which should cover several nights.\n\nRecently, Peersonic announced on their Facebook page that they made software available to read the SD cards from a (Windows?) computer.\nI will try it and write another blog post about it.\n\n## Room for improvement\n\n> The biggest room in the world is the room for improvement.\n\n- Optional resting mode after a recording.\n  As soon as the recording is stored on the SD card, the RPA is ready to create a new recording.\n  When a bat hunts for some time around the microphone, it will lead to several recording.\n  Placing the detector at a location with lost of activity/noise will fill the SD card on a single night.\n  It would be useful to have a setting that disables the trigger for some time (5, 10, 30, ... seconds) after the last recording.\n- GPS module.\n  Such module would do ideally two things 1) add timestamps, location and estimate of location precision to each recording and 2) store the transect   along which the detector moves.\n  A GPS module is less relevant for the IP67 enclosure as that would be used stationary.\n- The audio cable is mounted near the edge of the enclosure.\n  Closing it requires some care as the connector sometimes hits the bottom halve of the enclosure.\n  The trick is to gently push the connector slightly inwards when closing.\n  An L-shaped connector instead of a straight connector would probably solve this.\n- Try to move the SD card more to the side so that it is more accessible and easier to replace.\n",
    "supporting": [
      "ip67_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}